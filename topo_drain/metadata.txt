# This file contains metadata for your plugin.

# This file should be included when you package your plugin.# Mandatory items:

[general]
name=TopoDrain
qgisMinimumVersion=3.0
description=!!Experimental!! - wait for stable release! A QGIS plugin for planning surface drainage water management like Keyline-Design.
version=0.1.6
author=Timo Wicki
email=wickitimo@gmail.com
about=It automates the extraction of main valleys and ridges, creates off-contour line and supports creating Keyline Designs and other water-retention planning measures. The tool can also be used for other tasks, such as planning the location and alignment of paths and roads.
    DISCLAIMER: Influencing surface runoff on land is complex and requires significant expertise. This tool is intended as an aid for users with experience in land surface water management.
    
    Core algorithms leverage WhiteboxTools (Lindsay, 2017â€“2020; see https://github.com/jblindsay/whitebox-tools).
    So make shure you have installed and configured the plugin "WhiteboxTools for QGIS"!
    - Installation video: https://www.youtube.com/watch?v=xJXDBsNbcTg
    
    This plugin requires several Python packages (numpy, shapely, pandas, geopandas, scipy).
    These packages are typically included in common newer QGIS distributions, but may be missing in some installations (especially custom builds). If a package is missing, follow the installation instructions below:
    - Windows, QGIS installed with OSGeo4W: https://landscapearchaeology.org/2018/installing-python-packages-in-qgis-3-for-windows/
    - macOS (terminal): https://gis.stackexchange.com/questions/351280/installing-python-modules-for-qgis-3-on-mac
    Take care to install compatible package versions.

    A series of manual videos will follow soon: How to install a plugin with dependencies; how to use the tool, i.e. how to create a keyline design.

tracker=https://github.com/wickit7/topo-drain-plugin/issues
repository=https://github.com/wickit7/topo-drain-plugin
# End of mandatory metadata

# Recommended items:

hasProcessingProvider=yes
# Uncomment the following line and add your changelog:
changelog=0.1.6 - Dependency cleanup and user experience improvements
    * Removed dependency on Python rasterio package
    * Enhanced feedback and progress reporting throughout the plugin
    * Improved cancellation handling for better user control
    * Fixed barrier path handling in constant slope line algorithms
    0.1.5 - Create keylines bug fixes and code improvements
    * Bug fix slope adjustment processing for keyline creation with "new slop"e after "change after"
    * Allow starting keyline from ridge line
    0.1.4 - Bug fixes and attribute renaming
    * Handle fid attribute issue windows/mac by renaming it to LINK_ID
    * Handle crs issue
    0.1.3 - Critical QGIS crash fixes and plugin stability improvements
    * CRITICAL FIX: Eliminated QGIS crashes caused by QMessageBox dialogs during algorithm execution
    * Better Windows compatibility and plugin loading reliability
    0.1.2 - Bug fixes and robustness improvements
    * Fixed runtime errors in valley mask processing and GeoDataFrame creation
    * Enhanced field validation: automatic handling of missing FID, TRIB_ID, and DS_LINK_ID fields
    * Improved Windows compatibility for WhiteboxTools execution
    * Added case-insensitive attribute validation with better error messages
    * Fixed raster data type conflicts (standardized to uint32 for masks)
    * Enhanced parameter integration: slope_deviation_threshold, max_iterations parameters
    * UI improvements with "Advanced:" prefixes for complex parameters
    0.1.1 - Initial public release
    * Core topographic drainage analysis algorithms
    * Valley and ridge extraction using WhiteboxTools
    * Keypoint detection for keyline design
    * Constant slope line generation
    * Support for keyline design workflows
    * Integration with QGIS Processing toolbox

# Tags are comma separated with spaces allowed
tags=keyline-design, permaculture, sponge-scape, schwammland, surface analysis, watershed-analysis, topo-drain, water-management, whiteboxtools

homepage=https://github.com/wickit7/topo-drain-plugin
category=Analysis
icon=icons/topo_drain.svg
# experimental flag (keep True for initial public release)
experimental=True

# deprecated flag (applies to the whole plugin, not just a single version)
deprecated=False

# Since QGIS 3.8, a comma separated list of plugins to be installed
# (or upgraded) can be specified.
# Check the documentation for more information.
# The plugin name should match the exact folder name in QGIS plugins directory
plugin_dependencies=plugin:wbt_for_qgis;python:numpy;python:pandas;python:geopandas;python:shapely;python:scipy

# If the plugin can run on QGIS Server.
server=False

